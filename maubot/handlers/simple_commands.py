"""–ü—Ä–æ—Å—Ç—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –±–æ—Ç–∞."""

from aiogram import Bot, Router
from aiogram.filters import Command, CommandStart
from aiogram.types import Message
from loguru import logger

router = Router(name="simple commands")

STATUS_MESSAGE = (
    "üåü <b>–ù–µ–º–Ω–æ–≥–æ –æ Mau v2.3</b>:\n\n"
    "üÉè –≠—Ç–æ Telegram –±–æ—Ç –¥–ª—è –∏–≥—Ä—ã —Å –¥—Ä—É–∑—å—è–º–∏ –≤ –≥—Ä—É–ø–ø–æ–≤–æ–º —á–∞—Ç–µ.\n"
    "–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª –¥–ª—è –±–æ–ª—å—à–µ–≥–æ –≤–µ—Å–µ–ª—å—è.\n"
    "–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –≤:\n"
    "- <a href='https://git.miroq.ru/salormoon/mauno'>Miroq</a>\n"
    "- <a href='https://github.com/miroqru/mauno'>Github</a>.\n"
    "üìñ <a href='https://mau.miroq.ru/docs/'>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a>."
    "üéÄ <b>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–∞—Ä—Ç</b> –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –∞—Å–µ—Ç–∞ "
    "<a href='https://git.miroq.ru/rumia/mau-cards'>–¢—É—Ç</a>\n\n"
    "üå± –ú—ã –±—É–¥–µ–º –æ—á–µ–Ω—å —Ä–∞–¥—ã –≤–∞—à–µ <b>–ø–æ–¥–¥–µ—Ä–∂–∫–µ</b> –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ –±–æ—Ç–∞.\n\n"
    "ü™Ñ –°–ª–µ–¥–∏—Ç—å –∑–∞ –Ω–æ–≤–æ—Å—Ç—è–º–∏ –º–æ–∂–Ω–æ –≤ –∫–∞–Ω–∞–ª–µ "
    "<a href='https://t.me/mili_qlaster'>Salorhard</a>."
)

# –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ /help
# –ù–µ–º–Ω–æ–≥–æ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ –±–æ—Ç–∞ –∏ –∫–∞–∫ –∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
HELP_MESSAGE = (
    "üç∞ <b>–¢—Ä–∏ –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–∞ —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –≤–µ—Å–µ–ª—å–µ</b>!\n\n"
    "1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≤–∞—à—É –≥—Ä—É–ø–ø—É.\n"
    "2. –í –≥—Ä—É–ø–ø–µ —Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–Ω–∞—Ç—É —á–µ—Ä–µ–∑ /game –∏–ª–∏ –∑–∞–π–¥–∏—Ç–µ –≤ –Ω–µ—ë —á–µ—Ä–µ–∑ /join.\n"
    "3. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—Å–µ —Å–æ–±—Ä–∞–ª–∏—Å—å, –Ω–∞—á–∏–Ω–∞–π—Ç–µ –∏–≥—Ä—É –ø—Ä–∏ –ø–æ–º–æ—â–∏ /start!\n"
    "4. –í–≤–µ–¥–∏—Ç–µ <code>@mili_maubot</code> –≤ —á–∞—Ç–µ –∏–ª–∏ –∂–º—è–∫–Ω–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Ö–æ–¥–∞.\n"
    "–ó–¥–µ—Å—å –≤—Å–µ –≤–∞—à–∏ –∫–∞—Ä—Ç—ã, –∞ –µ—â—ë –∫–Ω–æ–ø–∫–∏ —á—Ç–æ–±—ã –≤–∑—è—Ç—å –∫–∞—Ä—Ç—ã –∏ "
    "–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã.\n"
    "<b>–°–µ—Ä—ã–µ</b> –∫–∞—Ä—Ç—ã –≤—ã –ø–æ–∫–∞ –Ω–µ –º–æ–∂–µ—Ç–µ —Ä–∞–∑—ã–≥—Ä–∞—Ç—å.\n"
    "–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –æ–¥–∏–Ω –∏–∑ —Å—Ç–∏–∫–µ—Ä–æ–≤ –∫–∞—Ä—Ç—ã, —á—Ç–æ–±—ã —Ä–∞–∑—ã–≥—Ä–∞—Ç—å –µ—ë.\n\n"
    "üå≥ –ò–≥—Ä–æ–∫–∏ –º–æ–≥—É—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è.\n"
    "–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ —á—Ç–æ–±—ã –≤–∞–º –ø–æ–º–µ—à–∞–ª–∏, –∑–∞–∫—Ä–æ–π—Ç–µ –∫–æ–º–Ω–∞—Ç—É —á–µ—Ä–µ–∑ /close.\n"
    "–ß—Ç–æ–±—ã –ø–æ–∫–∏–Ω—É—Ç—å –∏–≥—Ä—É –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ /leave.\n"
    "–ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –¥–æ–ª–≥–æ –¥—É–º–∞–µ—Ç. –µ–≥–æ –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥–æ–π /skip.\n"
    "‚òï –û –ø—Ä–æ—á–∏—Ö –∫–æ–º–∞–Ω–¥–∞—Ö –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –≤ <b>–º–µ–Ω—é</b>.\n"
)


@router.message(Command("help"))
async def get_help(message: Message, bot: Bot) -> None:
    """–ü–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–æ—Ç–æ–º."""
    if message.chat.type == "private":
        await message.answer(HELP_MESSAGE)
        return None

    try:
        await message.delete()
    except Exception as e:
        logger.warning("Unable to delete message: {}", e)
        await message.answer(
            "üëÄ –ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –≤—ã–¥–∞–π—Ç–µ –º–Ω–µ –ø—Ä–∞–≤–∞ —É–¥–∞–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ."
        )

    try:
        if message.from_user is not None:
            await bot.send_message(message.from_user.id, HELP_MESSAGE)
            await message.answer("‚ú® –ü–æ–º–æ—â—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.")
    except Exception as e:
        logger.warning("Unable to send private message: {}", e)
        await message.answer("üëÄ –Ø –Ω–µ –º–æ–≥—É –Ω–∞–ø–∏—Å–∞—Ç—å –≤–∞–º –ø–µ—Ä–≤—ã–º.")


@router.message(Command("status"))
async def get_bot_status(message: Message) -> None:
    """–ü–æ–ª–µ–∑–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ."""
    await message.answer(STATUS_MESSAGE)


@router.message(CommandStart())
async def start_bot(message: Message) -> None:
    """–ù–∞—á–∞–ª–æ –¥–∏–∞–ª–æ–≥–∞ —Å –±–æ—Ç–æ–º."""
    await message.answer(HELP_MESSAGE)
