"""–û–±—â–∏–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è.

–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–æ –¥–ª—è –±–æ–ª—å—à–µ–≥–æ —É–¥–æ–±—Å—Ç–≤–∞.
–ê —Ç–∞–∫–∂–µ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞.
"""

from enum import IntEnum

# Emoji –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ –∫–∞—Ä—Ç—ã
COLOR_EMOJI = ["ü©∑", "üíõ", "üíö", "üíô", "üñ§"]


class CardColor(IntEnum):
    """–¶–≤–µ—Ç–∞ –∫–∞—Ä—Ç—ã.

    –£ –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç—ã –µ—Å—Ç—å —Å–≤–æ–π —Ü–≤–µ—Ç.
    –í–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã: `RED`, `YELLOW`, `GREEN`, `BLUE`, `BLACK`.
    –ß—ë—Ä–Ω—ã–π —Ü–≤–µ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–∏–∫–∏—Ö –∫–∞—Ä—Ç.
    –í–æ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–∞–∫–æ–π –∫–∞—Ä—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ
    –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤, –∫—Ä–æ–º–µ —á—ë—Ä–Ω–æ–≥–æ.
    """

    RED = 0
    YELLOW = 1
    GREEN = 2
    BLUE = 3
    BLACK = 4

    def __str__(self) -> str:
        """–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ü–≤–µ—Ç –∫–∞—Ä—Ç—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π emoji."""
        return COLOR_EMOJI[self.value]


# TODO: –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
class CardType(IntEnum):
    """–¢–∏–ø—ã –∫–∞—Ä—Ç Uno.

    –£ –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –µ—ë —Ç–∏–ø.
    –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∫–∞—Ä—Ç—ã –º–µ–Ω—è–µ—Ç—Å—è –µ—ë –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

    - `NUMBER`: –ö–∞—Ä—Ç–∞ —Å —á–∏—Å–ª–æ–º –æ—Ç 0 –¥–æ 9.
    - `TURN`: –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ö–æ–¥ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞.
    - `REVERSE`: –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –æ—á–µ—Ä—ë–¥–Ω–æ—Å—Ç—å —Ö–æ–¥–æ–≤.
    - `TAKE`: –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫ –≤–∑—è—Ç–∏—è –∫–∞—Ä—Ç. –°–ª–µ–¥—É—é—â–∏–π –∏–≥—Ä–æ–∫ –±–µ—Ä—ë—Ç –∫–∞—Ä—Ç—ã.
    - `CHOOSE_COLOR`: –í—ã–±–∏—Ä–∞–µ—Ç –ª—é–±–æ–π —Ü–≤–µ—Ç –¥–ª—è –∫–∞—Ä—Ç—ã.
    - `TAKE_FOUR`: –í—ã–±–∏—Ä–∞–µ—Ç —Ü–≤–µ—Ç, —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫ –≤–∑—è—Ç–∏—è –∫–∞—Ä—Ç –Ω–∞ 4.

    –í Mau v2.0 –∫–∞—Ä—Ç—ã –∏ –∏—Ö –ø–æ–≤–µ–¥–µ–Ω–∏—è –±—ã–ª–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —Ç–∏–ø
    –∫–∞—Ä—Ç—ã —É—Å—Ç–∞—Ä–µ–≤—à–∏–º.
    –í –±—É–¥—É—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö —Ç–∏–ø –∫–∞—Ä—Ç—ã –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω.
    """

    NUMBER = 0
    TURN = 1
    REVERSE = 2
    TAKE = 3
    CHOOSE_COLOR = 4
    TAKE_FOUR = 5

    def __str__(self) -> str:
        """–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø –∫–∞—Ä—Ç—ã –æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º."""
        return self.name.lower()

    # TODO: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ –∫–ª–∞—Å—Å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
    @property
    def cost(self) -> int:
        """–ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–∞—Ä—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –µ—ë —Ç–∏–ø–∞.

        - `50` –î–ª—è –¥–∏–∫–∏—Ö –∫–∞—Ä—Ç.
        - `20` –î–ª—è –æ—Å–æ–±—ã—Ö –∫–∞—Ä—Ç.
        - –î–ª—è –∫–∞—Ä—Ç—ã —á–∏—Å–ª–æ –≤–µ—Ä–Ω—ë—Ç `0`, —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–µ—Ä—ë—Ç—Å—è –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∫–∞—Ä—Ç—ã.

        –í –±—É–¥—É—â–µ–º –±—É–¥–µ—Ç –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –∫–∞–∫ —á–∞—Å—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫–∞—Ä—Ç—ã.
        """
        if self in (CardType.TAKE_FOUR, CardType.CHOOSE_COLOR):
            return 50
        elif self == CardType.NUMBER:
            return 0
        else:
            return 20


class GameEvents(IntEnum):
    """–¢–∏–ø—ã –∏–≥—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π.

    –ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –∏–≥—Ä–µ, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ.
    –°–æ–±—ã—Ç–∏—è –º–æ–≥—É—Ç —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—Ç—å—Å—è —Å—Ç—Ä–æ–∫–æ–π —Å –ø–æ–ª–µ–∑–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.
    –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–≥—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏—è –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –∫–ª–∞—Å—Å–æ–º `EventHandler`.

    **–ò–≥—Ä–æ–≤–∞—è —Å–µ—Å—Å–∏—è**:

    - `session_start`: –°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è –∫–æ–º–Ω–∞—Ç–∞.
    - `session_end`: –°–µ—Å—Å–∏—è –≤ –∫–æ–º–Ω–∞—Ç–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.

    **–ò–≥—Ä–∞**:

    - `game_start`: –ù–∞—á–∞–ª–∞—Å—å –Ω–æ–≤–∞—è –∏–≥—Ä–∞.
    - `game_end`: –ó–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –∏–≥—Ä–∞.
    - `game_join`: –ò–≥—Ä–æ–∫ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è –∫ –∏–≥—Ä–µ.
    - `game_leave`: –ò–≥—Ä–æ–∫ –≤—ã—à–µ–ª, –ø—Ä–æ–∏–≥—Ä–∞–ª, –≤—ã–∏–≥—Ä–∞–ª, –±—ã–ª –∏—Å–∫–ª—é—á—ë–Ω, –∑–∞—Å—Ç—Ä–µ–ª–∏–ª—Å—è.
    - `game_select_color`: –í—ã–±–æ—Ä –Ω–æ–≤–æ–≥–æ —Ü–≤–µ—Ç–∞ –¥–ª—è –∫–∞—Ä—Ç—ã.
    - `game_select_player`: –í—ã–±–æ—Ä –∏–≥—Ä–æ–∫–∞ –¥–ª—è –æ–±–º–µ–Ω–∞ –∫–∞—Ä—Ç–∞–º–∏.
    - `game_turn`: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∏ –Ω–∞—á–∞–ª–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ö–æ–¥–∞.
    - `game_rotate`: –û–±–º–µ–Ω –∫–∞—Ä—Ç–∞–º–∏ –º–µ–∂–¥—É –≤—Å–µ–º–∏ –∏–≥—Ä–æ–∫–∞–º–∏.
    - `game_state`: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

    **–ò–≥—Ä–æ–∫**:

    - `player_uno`: –°–æ–æ–±—â–∏—Ç—å –≤—Å–µ–º —á—Ç–æ —É –∏–≥—Ä–æ–∫–∞ –æ—Å—Ç–∞–ª–∞—Å—å –æ–¥–Ω–∞ –∫–∞—Ä—Ç–∞.
    - `player_bluff`: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —á–µ—Å—Ç–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞.
    - `player_take`: –í–∑—è—Ç–∏–µ –∫–∞—Ä—Ç –∏–∑ –∫–æ–ª–æ–¥—ã, —Ç–∞–∫–∂–µ –≤–º–µ—Å—Ç–æ —Ä–µ–≤–æ–ª—å–≤–µ—Ä–∞.
    - `player_push`: –ò–≥—Ä–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞—Ä—Ç—É.
    - `player_intervened`: –ò–≥—Ä–æ–∫ –≤–º–µ—à–∞–ª—Å—è –≤ —Ö–æ–¥ –¥—Ä—É–≥–æ–≥–æ –∏–≥—Ä–æ–∫–∞.
    """

    SESSION_START = 10
    SESSION_END = 11

    GAME_START = 20
    GAME_END = 21
    GAME_JOIN = 22
    GAME_LEAVE = 23
    GAME_SELECT_COLOR = 24
    GAME_SELECT_PLAYER = 25
    GAME_TURN = 26
    GAME_ROTATE = 27
    GAME_STATE = 28

    PLAYER_UNO = 30
    PLAYER_BLUFF = 31
    PLAYER_TAKE = 32
    PLAYER_PUSH = 33
    PLAYER_INTERVENED = 34


class GameState(IntEnum):
    """–ò–≥—Ä–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

    –í –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –∏–≥—Ä–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –Ω–µ–∫–æ—Ç–æ—Ä–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏.
    –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —ç—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–≥—Ä—ã.
    –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–∂–Ω–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Å–æ–±—ã—Ç–∏–π.
    –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º —Ö–æ–¥–µ.

    - `NEXT`: –ü–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞—Ä—Ç—ã –∏–≥—Ä–æ–∫–æ–º —Ö–æ–¥ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –¥–∞–ª—å—à–µ.
    - `TAKE`: –ò–≥—Ä–æ–∫ –±—Ä–∞–ª –∫–∞—Ä—Ç—É –≤ —ç—Ç–æ–º —Ö–æ–¥—É.
    - `CHOOSE_COLOR`: –í—ã–±–∏—Ä–∞–µ—Ç—Å—è —Ü–≤–µ—Ç –¥–ª—è –∫–∞—Ä—Ç—ã. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Ö–æ–¥.
    - `TWIST_HAND`: –í—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å –∫–µ–º –æ–±–º–µ–Ω—è—Ç—å—Å—è –∫–∞—Ä—Ç–∞–º–∏.
    - `SHOTGUN`: –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–≤–æ–ª—å–≤–µ—Ä–∞. –°—Ç—Ä–µ–ª—è—Ç—å –∏–ª–∏ –±—Ä–∞—Ç—å –∫–∞—Ä—Ç—ã.
    - `CONTINUE`: –•–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –¥–æ —Ä—É—á–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.
    """

    NEXT = 0
    TAKE = 1
    CHOOSE_COLOR = 2
    TWIST_HAND = 3
    SHOTGUN = 4
    CONTINUE = 5
